(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports={card:"BookListItem_card__1YQd4"}},18:function(e,t,n){e.exports={formas:"SearchForm_formas__3P08Y"}},19:function(e){e.exports=["fantasy","thriller","drama","mystery","horror","satire","computers"]},21:function(e,t,n){e.exports=n(46)},46:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(15),l=n.n(o),u=n(2),c=n(3),i=n(5),s=n(4),m=n(6),h=n(16),f=n.n(h),p=function(e){var t=e.title,n=e.authors,a=e.publisher,o=e.publishedDate,l=e.pageCount,u=e.rating,c=e.url;return r.a.createElement("div",{className:f.a.card},r.a.createElement("img",{src:c,alt:"img"}),r.a.createElement("div",null,r.a.createElement("h2",null,t),r.a.createElement("p",null,"Authors:",n),r.a.createElement("p",null,"Publisher:",a),r.a.createElement("p",null,"PublishedDate:",o),r.a.createElement("p",null,"PageCount:",l),r.a.createElement("p",null,"Rating:",u)))};p.defaultProps={rating:0};var d=p,g=n(8),b=n.n(g),v=function(e){var t=e.items;return r.a.createElement("div",null,r.a.createElement("ul",{className:b.a.bloc},t.map(function(e){return r.a.createElement("li",{key:e.id,className:b.a.item},r.a.createElement(d,e))})))},E={fontSize:40},y=function(){return r.a.createElement("h1",{style:E},"Loading....")},k=function(e){var t=e.text;return r.a.createElement("h1",null," Whoops, something went wrong:",t)},S=n(17),w=n.n(S),_=function(e,t){return w.a.get("".concat("https://www.googleapis.com/books/v1/volumes?q=").concat(e,"+subject:").concat(t))},j=n(20),O=n(18),C=n.n(O),I=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={query:"",genre:""},n.handleChange=function(e){n.setState({query:e.target.value})},n.handleSelect=function(e){n.setState({genre:e.target.value})},n.handleSubmit=function(e){e.preventDefault(),n.props.onSubmit(Object(j.a)({},n.state)),n.setState({query:""})},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.query,t=this.props.genres;return r.a.createElement("form",{className:C.a.formas},r.a.createElement("input",{value:e,onChange:this.handleChange}),r.a.createElement("select",{onBlur:this.handleSelect},t.map(function(e){return r.a.createElement("option",{key:e,value:e},e)})),r.a.createElement("button",{type:"button",onClick:this.handleSubmit},"Search"))}}]),t}(a.Component),L=n(19),B=function(e){return e.map(function(e){return{id:e.id,title:e.volumeInfo.title,authors:e.volumeInfo.authors,publisher:e.volumeInfo.publisher,publishedDate:e.volumeInfo.publishedDate,pageCount:e.volumeInfo.pageCount,rating:e.volumeInfo.rating,url:e.volumeInfo.imageLinks.smallThumbnail}})},q=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={books:[],isLoading:!1,error:null},n.fetchBook=function(e){var t=e.query,a=e.genre;n.setState({isLoading:!0}),_(t,a).then(function(e){var t=e.data;n.setState({books:B(t.items)})}).catch(function(e){return n.setState({error:e})}).finally(function(){n.setState({isLoading:!1})})},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.fetchBook({query:"react",genre:"computers"})}},{key:"render",value:function(){var e=this.state,t=e.books,n=e.isLoading,a=e.error;return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"If you do not like React, make your choice!"),r.a.createElement(I,{genres:L,onSubmit:this.fetchBook}),a&&r.a.createElement(k,{text:a.message}),n&&r.a.createElement(y,null),t.length>0&&r.a.createElement(v,{items:t}))}}]),t}(a.Component);l.a.render(r.a.createElement(q,null),document.getElementById("root"))},8:function(e,t,n){e.exports={bloc:"BookList_bloc__1_Gdp",item:"BookList_item__3-v49"}}},[[21,1,2]]]);
//# sourceMappingURL=main.24e9bf5e.chunk.js.map