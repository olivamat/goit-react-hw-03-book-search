{"version":3,"sources":["BookListItem/BookListItem.module.css","SearchForm/SearchForm.module.css","BookList/BookList.module.css","BookListItem/BookListItem.js","BookList/BookList.js","Loader/Loader.js","ErrorNotofication.js","servises/book-api.js","SearchForm/SearchForm.js","App.js","index.js"],"names":["module","exports","card","formas","bloc","item","BookListItem","_ref","title","autor","publisher","publishedDate","pageCount","rating","url","react_default","a","createElement","className","styles","src","alt","defaultProps","BookList","items","map","key","id","src_BookListItem_BookListItem","fontSize","Loader","style","ErrorNotification","text","fetchBooks","query","subject","axios","get","concat","SearchForm","genres","value","onChangeInput","onChangeSelect","onSubmit","onChange","onBlur","genre","type","onClick","App","state","books","isLoading","error","fetchBook","_this","setState","bookApi","then","_ref4","data","book","volumeInfo","Object","objectSpread","_ref2","image","imageLinks","authors","ratingsCount","_ref3","smallThumbnail","catch","finally","handleQueryChange","e","target","handleQuerySelect","this","_this$state","src_SearchForm_SearchForm","ErrorNotofication","message","src_Loader_Loader","length","src_BookList_BookList","Component","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.36d9036e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"BookListItem_card__1YQd4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formas\":\"SearchForm_formas__3P08Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bloc\":\"BookList_bloc__1_Gdp\",\"item\":\"BookList_item__3-v49\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './BookListItem.module.css';\n\nconst BookListItem = ({\n  title,\n  autor,\n  publisher,\n  publishedDate,\n  pageCount,\n  rating,\n  url,\n}) => {\n  return (\n    <div className={styles.card}>\n      <img src={url} alt=\"img\" />\n      <div>\n        <h2>{title}</h2>\n        <p>Autor:{autor}</p>\n        <p>Publisher:{publisher}</p>\n        <p>PublishedDate:{publishedDate}</p>\n        <p>PageCount:{pageCount}</p>\n        <p>Rating:{rating}</p>\n      </div>\n    </div>\n  );\n};\nBookListItem.defaultProps = {\n  rating: 0,\n};\nBookListItem.propTypes = {\n  title: PropTypes.string.isRequired,\n  url: PropTypes.string.isRequired,\n  autor: PropTypes.string.isRequired,\n  publisher: PropTypes.string.isRequired,\n  publishedDate: PropTypes.string.isRequired,\n  pageCount: PropTypes.number.isRequired,\n  rating: PropTypes.number,\n};\n\nexport default BookListItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport BookListItem from '../BookListItem/BookListItem';\nimport styles from './BookList.module.css';\n\nconst BookList = ({ items }) => (\n  <div>\n    <ul className={styles.bloc}>\n      {items.map(item => (\n        <li key={item.id} className={styles.item}>\n          <BookListItem {...item} />\n        </li>\n      ))}\n    </ul>\n  </div>\n);\n\nBookList.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n};\n\nexport default BookList;\n","import React from 'react';\n\nconst styles = { fontSize: 40 };\n\nconst Loader = () => <h1 style={styles}>Loading....</h1>;\n\nexport default Loader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ErrorNotification = ({ text }) => (\n  <h1> Whoops, something went wrong:{text}</h1>\n);\n\nErrorNotification.propTypes = {\n  text: PropTypes.string.isRequired,\n};\nexport default ErrorNotification;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://www.googleapis.com/books/v1/volumes?q=';\n\nexport const fetchBooks = (query, subject) =>\n  axios.get(`${BASE_URL}${query}+subject:${subject}`);\nexport const dummy = () => null;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchForm.module.css';\n\nconst SearchForm = ({\n  genres,\n  value,\n  onChangeInput,\n  onChangeSelect,\n  onSubmit,\n}) => (\n  <form className={styles.formas}>\n    <input value={value} onChange={onChangeInput} />\n    <select onBlur={onChangeSelect}>\n      {genres.map(genre => (\n        <option key={genre} value={genre}>\n          {genre}\n        </option>\n      ))}\n    </select>\n    <button type=\"button\" onClick={onSubmit}>\n      Search\n    </button>\n  </form>\n);\n\nSearchForm.propTypes = {\n  genres: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  onChangeInput: PropTypes.func.isRequired,\n  onChangeSelect: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n};\nexport default SearchForm;\n","import React, { Component } from 'react';\n\nimport BookList from './BookList/BookList';\nimport Loader from './Loader/Loader';\nimport ErrorNotofication from './ErrorNotofication';\nimport * as bookApi from './servises/book-api';\nimport SearchForm from './SearchForm/SearchForm';\nimport genres from './genres.json';\n\nfunction mapper(books) {\n  const arr1 = books.map(({ volumeInfo: book, id }) => ({\n    ...book,\n    id,\n  }));\n  const arr2 = arr1.map(\n    ({\n      imageLinks: image,\n      title,\n      authors: autor,\n      id,\n      publisher,\n      publishedDate,\n      pageCount,\n      ratingsCount: rating,\n    }) => ({\n      ...image,\n      title,\n      autor,\n      id,\n      publisher,\n      publishedDate,\n      pageCount,\n      rating,\n    }),\n  );\n  const arr3 = arr2.map(\n    ({\n      smallThumbnail: url,\n      title,\n      autor,\n      id,\n      publisher,\n      publishedDate,\n      pageCount,\n      rating,\n    }) => ({\n      url,\n      title,\n      autor,\n      id,\n      publisher,\n      publishedDate,\n      pageCount,\n      rating,\n    }),\n  );\n  return arr3;\n}\n\nexport default class App extends Component {\n  state = {\n    books: [],\n    isLoading: false,\n    error: null,\n    query: 'react',\n    genre: 'computers',\n  };\n\n  componentDidMount() {\n    this.fetchBook();\n  }\n\n  fetchBook = () => {\n    this.setState({ isLoading: true });\n    bookApi\n      .fetchBooks(this.state.query, this.state.genre)\n      .then(({ data }) => {\n        this.setState({ books: mapper(data.items) });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false, query: '' });\n      });\n  };\n\n  handleQueryChange = e => {\n    this.setState({ query: e.target.value });\n  };\n\n  handleQuerySelect = e => {\n    this.setState({ genre: e.target.value });\n  };\n\n  render() {\n    const { books, isLoading, error, query } = this.state;\n\n    return (\n      <div className=\"App\">\n        <SearchForm\n          genres={genres}\n          value={query}\n          onChangeInput={this.handleQueryChange}\n          onChangeSelect={this.handleQuerySelect}\n          onSubmit={this.fetchBook}\n        />\n        {error && <ErrorNotofication text={error.message} />}\n        {isLoading && <Loader />}\n        {books.length > 0 && <BookList items={books} />}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}